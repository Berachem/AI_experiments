<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error - BeraMind</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-danger">
        <div class="container">
            <a class="navbar-brand" href="/">üîç BeraMind</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">New Analysis</a>
                <a class="nav-link" href="/history">History</a>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card border-danger">
                    <div class="card-header bg-danger text-white">
                        <h4 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Analysis Error</h4>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-danger" role="alert">
                            <strong>Error:</strong> {{ error }}
                        </div>
                        
                        <!-- Common solutions -->
                        <div class="mt-4">
                            <h5>Common Solutions:</h5>
                            <ul class="list-unstyled">
                                <li class="mb-2">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <strong>For GitHub repositories:</strong> Make sure the URL is correct and the repository is public
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <strong>For local folders:</strong> Ensure the path exists and is accessible
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <strong>Path format:</strong> Use full paths like <code>C:\Users\Bera\Documents\GitHub\AI_experiments\fine-tuning</code>
                                </li>
                                <li class="mb-2">
                                    <i class="fas fa-check-circle text-success"></i>
                                    <strong>Ollama issues:</strong> Make sure Ollama is running and models are available
                                </li>
                            </ul>
                        </div>
                        
                        <!-- Quick test -->
                     <!--    <div class="mt-4">
                            <h5>Quick Test:</h5>
                            <p>Try scanning a known working path:</p>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" id="testPath" 
                                       value="C:\Users\nadia\Documents\GitHub\AI_experiments\fine-tuning" readonly>
                                <button class="btn btn-outline-primary" onclick="testPath()">
                                    <i class="fas fa-play"></i> Test This Path
                                </button>
                            </div>
                        </div> -->
                        
                        <div class="text-center mt-4">
                            <a href="/" class="btn btn-primary me-2">
                                <i class="fas fa-arrow-left"></i> Try Again
                            </a>
                            <a href="/history" class="btn btn-outline-secondary">
                                <i class="fas fa-history"></i> View History
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function testPath() {
            const testPath = document.getElementById('testPath').value;
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = '/scan';
            
            const scanType = document.createElement('input');
            scanType.type = 'hidden';
            scanType.name = 'scan_type';
            scanType.value = 'local';
            
            const localPath = document.createElement('input');
            localPath.type = 'hidden';
            localPath.name = 'local_path';
            localPath.value = testPath;
            
            form.appendChild(scanType);
            form.appendChild(localPath);
            document.body.appendChild(form);
            form.submit();
        }
    </script>
</body>
</html>
